<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">

<polymer-element name="artist-now" attributes="stage artist country bio day start end">

    <template>

        <style shim-shadowdom>
            /* Selects a shadow host element. May contain additional identifiers in parenthesis */
            :host {
                display: block;
            }

            /* Selects shadow trees that are one level deep inside of an element */
            ::shadow {

            }

            /* Selects shadow trees that are N levels deep inside of an element */
            /deep/ {

            }

            /* Selects distributed nodes inside of an element */
            ::content {

            }


        </style>

        <core-ajax
                auto
                url="../../data/artists.json"
                handleAs="json"
                response="{{artists}}"
                on-core-response="{{handleResponse}}"></core-ajax>

        <template repeat="{{artist in artists}}">
            <div>{{artist.artist}} (<span>{{artist.country}}</span>)</div>
        </template>

    </template>

    <script>
        (function() {
            'use strict';

            Polymer('artist-now', {

                // Fires when the "<polymer-element>" has been fully prepared
                ready: function() {
                    console.log('Artist is ready!');
                },

                // Fires when the element was inserted into the document
                attached: function() {

                },

                // Fires when the element was removed from the document
                detached: function() {

                },

                // Fires when an attribute was added, removed, or updated
                attributeChanged: function(attr, oldVal, newVal) {

                },

                // Handling an AJAX response
                handleResponse: function(event, response) {
                    console.log(response.response);
                }
                
            });
        })();
    </script>

</polymer-element>
